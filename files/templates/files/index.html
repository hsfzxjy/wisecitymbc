{% extends "base.html" %}

{% block title %}文件{% endblock %}

{% block main_content %}
<ul id="files-container">
</ul>
{% endblock %}

{% block templates %}
<template id="shared-file-template">
    <div class="panel post gray-background display-none" style="margin-bottom: 10px;">
        @{uploader.a_tag}
        <span>{file.file_name}</span>
        <a class="pull-right" href="{file.url}" target="_blank">下载</a>
        <small class="pull-right" style="line-height: 1.7;margin-right: 5px;">{file.created_time}</small>
    </div>
</template>
{% endblock %}

{% block extra_header %}
<script type="text/javascript">
require(['main'], function () {
    $(function () {
        LIST.createList({
            $container: '#files-container',
            templateId: 'shared-file-template',
            listType: 'waterfall',
            api: API.url('files'),
            firstTrigger: true
        });
    });
});
</script>
{% endblock %}
